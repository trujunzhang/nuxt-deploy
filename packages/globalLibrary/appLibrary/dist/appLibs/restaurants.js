"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Restaurants = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _tools = require("@app/tools");

var Types = _interopRequireWildcard(require("@app/types"));

var Restaurants = /*#__PURE__*/function () {
  function Restaurants() {
    (0, _classCallCheck2["default"])(this, Restaurants);
  }

  (0, _createClass2["default"])(Restaurants, null, [{
    key: "getDateSelectors",

    /**
     * @summary Restaurants config namespace
     * @type {Object}
     */

    /**
     * @summary generate 15 days as the day filter for Restaurants list admin
     */
    value: function getDateSelectors() {
      var size = 15;

      var reference = _tools.MomentUtils.createTodayMomentInstance(); // today
      // let currentYear = REFERENCE.format('YYYY')


      var dateSelectors = [];

      for (var i = 0; i < size; i++) {
        var date = reference.clone().subtract(i, 'months');

        var queryString = _tools.MomentUtils.toDateString(date, 'YYYY-MM');

        var year = _tools.MomentUtils.toDateString(date, 'YYYY');

        var title = date.format('MMMM YYYY');
        dateSelectors.push({
          query: queryString,
          title: title
        });
      }

      return dateSelectors;
    }
  }, {
    key: "showReady",
    value: function showReady(results, hasMore, ready, totalCount, limit, firstPagination) {
      if (!firstPagination) {
        return false;
      }

      if (typeof totalCount === 'undefined' || !ready || typeof results === 'undefined') {
        return true;
      }

      if (ready && !hasMore && results.length === 0) {
        return false;
      }

      if (!ready && hasMore && results.length <= limit) {
        return true;
      }

      if (hasMore && !!results && results.length > limit) {
        return false;
      }

      if (hasMore && results.length % limit !== 0) {
        return true;
      }

      return false;
    } // static toDateString(date) {
    //   return moment(date).format(Restaurants.config.dateFormat)
    // }

  }, {
    key: "getAddress",
    value: function getAddress(restaurant) {
      return restaurant.address || '  ';
    }
  }]);
  return Restaurants;
}();

exports.Restaurants = Restaurants;
Restaurants.config = {
  dateFormat: 'DD, MMMM, YYYY'
};
Restaurants.TOP_MENUS = [{
  title: 'Add a Restaurant',
  tag: Types.menuMore.MENU_ITEM_ADD_OR_EDIT_RESTAURANT,
  objectId: Types.menuMore.MENU_ITEM_ADD_OR_EDIT_RESTAURANT,
  icon: 'M17.22 22a1.78 1.78 0 0 1-1.74-2.167l1.298-4.98L14 13l1.756-9.657A1.635 1.635 0 0 1 19 3.635V20.22A1.78 1.78 0 0 1 17.22 22zm-7.138-9.156l.697 7.168a1.79 1.79 0 1 1-3.56 0l.7-7.178A3.985 3.985 0 0 1 5 9V3a1 1 0 0 1 2 0v5.5c0 .28.22.5.5.5s.5-.22.5-.5V3a1 1 0 0 1 2 0v5.5c0 .28.22.5.5.5s.5-.22.5-.5V3a1 1 0 0 1 2 0v5.83c0 1.85-1.2 3.518-2.918 4.014z'
}, {
  title: 'Search Restaurants',
  tag: Types.menuMore.MENU_ITEM_SEARCH_RESTAURANTS,
  objectId: Types.menuMore.MENU_ITEM_SEARCH_RESTAURANTS,
  icon: 'M18 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3 1 1 0 0 1 2 0h8a1 1 0 0 1 2 0 3 3 0 0 1 3 3v12a3 3 0 0 1-3 3zm1-13H5v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V8zm-5.634 7.723L12 18l-1.366-2.277a3.5 3.5 0 1 1 2.732 0zM12 11.25a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z'
}, {
  title: 'Manage Friends',
  tag: Types.menuMore.MENU_ITEM_MANAGE_FRIENDS,
  objectId: Types.menuMore.MENU_ITEM_MANAGE_FRIENDS,
  icon: ''
}, {
  title: 'Read Reviews',
  tag: Types.menuMore.MENU_ITEM_READ_REVIEWS,
  objectId: Types.menuMore.MENU_ITEM_READ_REVIEWS,
  icon: 'M21 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6zm-5.88 10.428l-3.16-1.938-3.05 2.01.59-3.457L7 10.596l3.457-.505L11.96 6.5l1.582 3.59 3.458.506-2.5 2.447.62 3.385z'
}];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcHBMaWJzL3Jlc3RhdXJhbnRzLnRzIl0sIm5hbWVzIjpbIlJlc3RhdXJhbnRzIiwic2l6ZSIsInJlZmVyZW5jZSIsIk1vbWVudFV0aWxzIiwiY3JlYXRlVG9kYXlNb21lbnRJbnN0YW5jZSIsImRhdGVTZWxlY3RvcnMiLCJpIiwiZGF0ZSIsImNsb25lIiwic3VidHJhY3QiLCJxdWVyeVN0cmluZyIsInRvRGF0ZVN0cmluZyIsInllYXIiLCJ0aXRsZSIsImZvcm1hdCIsInB1c2giLCJxdWVyeSIsInJlc3VsdHMiLCJoYXNNb3JlIiwicmVhZHkiLCJ0b3RhbENvdW50IiwibGltaXQiLCJmaXJzdFBhZ2luYXRpb24iLCJsZW5ndGgiLCJyZXN0YXVyYW50IiwiYWRkcmVzcyIsImNvbmZpZyIsImRhdGVGb3JtYXQiLCJUT1BfTUVOVVMiLCJ0YWciLCJUeXBlcyIsIm1lbnVNb3JlIiwiTUVOVV9JVEVNX0FERF9PUl9FRElUX1JFU1RBVVJBTlQiLCJvYmplY3RJZCIsImljb24iLCJNRU5VX0lURU1fU0VBUkNIX1JFU1RBVVJBTlRTIiwiTUVOVV9JVEVNX01BTkFHRV9GUklFTkRTIiwiTUVOVV9JVEVNX1JFQURfUkVWSUVXUyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7O0lBRWFBLFc7Ozs7Ozs7O0FBQ1g7Ozs7O0FBc0NBOzs7dUNBRzBCO0FBQ3hCLFVBQU1DLElBQUksR0FBRyxFQUFiOztBQUNBLFVBQU1DLFNBQVMsR0FBR0MsbUJBQVlDLHlCQUFaLEVBQWxCLENBRndCLENBRWtDO0FBQzFEOzs7QUFDQSxVQUFNQyxhQUFrQixHQUFHLEVBQTNCOztBQUNBLFdBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0wsSUFBcEIsRUFBMEJLLENBQUMsRUFBM0IsRUFBK0I7QUFDN0IsWUFBTUMsSUFBUyxHQUFHTCxTQUFTLENBQUNNLEtBQVYsR0FBa0JDLFFBQWxCLENBQTJCSCxDQUEzQixFQUE4QixR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dXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbWVudFV0aWxzIH0gZnJvbSAnQGFwcC90b29scydcblxuaW1wb3J0ICogYXMgVHlwZXMgZnJvbSAnQGFwcC90eXBlcydcblxuZXhwb3J0IGNsYXNzIFJlc3RhdXJhbnRzIHtcbiAgLyoqXG4gICAqIEBzdW1tYXJ5IFJlc3RhdXJhbnRzIGNvbmZpZyBuYW1lc3BhY2VcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBjb25maWcgPSB7XG4gICAgZGF0ZUZvcm1hdDogJ0RELCBNTU1NLCBZWVlZJ1xuICB9XG5cbiAgc3RhdGljIFRPUF9NRU5VUzogSUhvbWVNb3JlSXRlbU1vZGVsW10gPSBbXG4gICAge1xuICAgICAgdGl0bGU6ICdBZGQgYSBSZXN0YXVyYW50JyxcbiAgICAgIHRhZzogVHlwZXMubWVudU1vcmUuTUVOVV9JVEVNX0FERF9PUl9FRElUX1JFU1RBVVJBTlQsXG4gICAgICBvYmplY3RJZDogVHlwZXMubWVudU1vcmUuTUVOVV9JVEVNX0FERF9PUl9FRElUX1JFU1RBVVJBTlQsXG4gICAgICBpY29uOlxuICAgICAgICAnTTE3LjIyIDIyYTEuNzggMS43OCAwIDAgMS0xLjc0LTIuMTY3bDEuMjk4LTQuOThMMTQgMTNsMS43NTYtOS42NTdBMS42MzUgMS42MzUgMCAwIDEgMTkgMy42MzVWMjAuMjJBMS43OCAxLjc4IDAgMCAxIDE3LjIyIDIyem0tNy4xMzgtOS4xNTZsLjY5NyA3LjE2OGExLjc5IDEuNzkgMCAxIDEtMy41NiAwbC43LTcuMTc4QTMuOTg1IDMuOTg1IDAgMCAxIDUgOVYzYTEgMSAwIDAgMSAyIDB2NS41YzAgLjI4LjIyLjUuNS41cy41LS4yMi41LS41VjNhMSAxIDAgMCAxIDIgMHY1LjVjMCAuMjguMjIuNS41LjVzLjUtLjIyLjUtLjVWM2ExIDEgMCAwIDEgMiAwdjUuODNjMCAxLjg1LTEuMiAzLjUxOC0yLjkxOCA0LjAxNHonXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1NlYXJjaCBSZXN0YXVyYW50cycsXG4gICAgICB0YWc6IFR5cGVzLm1lbnVNb3JlLk1FTlVfSVRFTV9TRUFSQ0hfUkVTVEFVUkFOVFMsXG4gICAgICBvYmplY3RJZDogVHlwZXMubWVudU1vcmUuTUVOVV9JVEVNX1NFQVJDSF9SRVNUQVVSQU5UUyxcbiAgICAgIGljb246XG4gICAgICAgICdNMTggMjFINmEzIDMgMCAwIDEtMy0zVjZhMyAzIDAgMCAxIDMtMyAxIDEgMCAwIDEgMiAwaDhhMSAxIDAgMCAxIDIgMCAzIDMgMCAwIDEgMyAzdjEyYTMgMyAwIDAgMS0zIDN6bTEtMTNINXYxMGMwIC41NS40NSAxIDEgMWgxMmMuNTUgMCAxLS40NSAxLTFWOHptLTUuNjM0IDcuNzIzTDEyIDE4bC0xLjM2Ni0yLjI3N2EzLjUgMy41IDAgMSAxIDIuNzMyIDB6TTEyIDExLjI1YTEuMjUgMS4yNSAwIDEgMCAwIDIuNSAxLjI1IDEuMjUgMCAwIDAgMC0yLjV6J1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdNYW5hZ2UgRnJpZW5kcycsXG4gICAgICB0YWc6IFR5cGVzLm1lbnVNb3JlLk1FTlVfSVRFTV9NQU5BR0VfRlJJRU5EUyxcbiAgICAgIG9iamVjdElkOiBUeXBlcy5tZW51TW9yZS5NRU5VX0lURU1fTUFOQUdFX0ZSSUVORFMsXG4gICAgICBpY29uOiAnJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdSZWFkIFJldmlld3MnLFxuICAgICAgdGFnOiBUeXBlcy5tZW51TW9yZS5NRU5VX0lURU1fUkVBRF9SRVZJRVdTLFxuICAgICAgb2JqZWN0SWQ6IFR5cGVzLm1lbnVNb3JlLk1FTlVfSVRFTV9SRUFEX1JFVklFV1MsXG4gICAgICBpY29uOlxuICAgICAgICAnTTIxIDZhMyAzIDAgMCAwLTMtM0g2YTMgMyAwIDAgMC0zIDN2MTJhMyAzIDAgMCAwIDMgM2gxMmEzIDMgMCAwIDAgMy0zVjZ6bS01Ljg4IDEwLjQyOGwtMy4xNi0xLjkzOC0zLjA1IDIuMDEuNTktMy40NTdMNyAxMC41OTZsMy40NTctLjUwNUwxMS45NiA2LjVsMS41ODIgMy41OSAzLjQ1OC41MDYtMi41IDIuNDQ3LjYyIDMuMzg1eidcbiAgICB9XG4gIF1cblxuICAvKipcbiAgICogQHN1bW1hcnkgZ2VuZXJhdGUgMTUgZGF5cyBhcyB0aGUgZGF5IGZpbHRlciBmb3IgUmVzdGF1cmFudHMgbGlzdCBhZG1pblxuICAgKi9cbiAgc3RhdGljIGdldERhdGVTZWxlY3RvcnMoKSB7XG4gICAgY29uc3Qgc2l6ZSA9IDE1XG4gICAgY29uc3QgcmVmZXJlbmNlID0gTW9tZW50VXRpbHMuY3JlYXRlVG9kYXlNb21lbnRJbnN0YW5jZSgpIC8vIHRvZGF5XG4gICAgLy8gbGV0IGN1cnJlbnRZZWFyID0gUkVGRVJFTkNFLmZvcm1hdCgnWVlZWScpXG4gICAgY29uc3QgZGF0ZVNlbGVjdG9yczogYW55ID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgY29uc3QgZGF0ZTogYW55ID0gcmVmZXJlbmNlLmNsb25lKCkuc3VidHJhY3QoaSwgJ21vbnRocycpXG4gICAgICBjb25zdCBxdWVyeVN0cmluZyA9IE1vbWVudFV0aWxzLnRvRGF0ZVN0cmluZyhkYXRlLCAnWVlZWS1NTScpXG4gICAgICBjb25zdCB5ZWFyID0gTW9tZW50VXRpbHMudG9EYXRlU3RyaW5nKGRhdGUsICdZWVlZJylcbiAgICAgIGNvbnN0IHRpdGxlID0gZGF0ZS5mb3JtYXQoJ01NTU0gWVlZWScpXG4gICAgICBkYXRlU2VsZWN0b3JzLnB1c2goeyBxdWVyeTogcXVlcnlTdHJpbmcsIHRpdGxlIH0pXG4gICAgfVxuICAgIHJldHVybiBkYXRlU2VsZWN0b3JzXG4gIH1cblxuICBzdGF0aWMgc2hvd1JlYWR5KHJlc3VsdHMsIGhhc01vcmUsIHJlYWR5LCB0b3RhbENvdW50LCBsaW1pdCwgZmlyc3RQYWdpbmF0aW9uKSB7XG4gICAgaWYgKCFmaXJzdFBhZ2luYXRpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHRvdGFsQ291bnQgPT09ICd1bmRlZmluZWQnIHx8ICFyZWFkeSB8fCB0eXBlb2YgcmVzdWx0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGlmIChyZWFkeSAmJiAhaGFzTW9yZSAmJiByZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmICghcmVhZHkgJiYgaGFzTW9yZSAmJiByZXN1bHRzLmxlbmd0aCA8PSBsaW1pdCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKGhhc01vcmUgJiYgISFyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoID4gbGltaXQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoaGFzTW9yZSAmJiByZXN1bHRzLmxlbmd0aCAlIGxpbWl0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIHN0YXRpYyB0b0RhdGVTdHJpbmcoZGF0ZSkge1xuICAvLyAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KFJlc3RhdXJhbnRzLmNvbmZpZy5kYXRlRm9ybWF0KVxuICAvLyB9XG5cbiAgc3RhdGljIGdldEFkZHJlc3MocmVzdGF1cmFudCkge1xuICAgIHJldHVybiByZXN0YXVyYW50LmFkZHJlc3MgfHwgJyAgJ1xuICB9XG59XG4iXX0=